---
title: "SQL"
output: html_document
---

## Filtering Columns and Rows

With SQL, you can filter columns with SELECT and rows with WHERE. Let's try an example with the Lahman baseball database. First, we need to load the appropriate packages. 

```{r warning=FALSE,message=FALSE}
library(Lahman)
library(sqldf)
```

Now, suppose we would like to see the homerun totals for the 1927 Yankees. We could write the following:

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='NYA' and yearID=1927"
sqldf(query)
```

# Examples from Sep. 07 Class
#---------------------------------------------

## example one
```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='NYA' and HR>=40"
sqldf(query)
```

## example two 

```{r}
query<-"SELECT playerID,teamID,yearID,HR,SO FROM Batting 
WHERE HR>=40 and SO<60"
sqldf(query)
```

## example three

```{r}
query<-"SELECT playerID,teamID,yearID,HR FROM Batting
WHERE yearID>1969 and yearID<1980 and HR>30 and teamID='PHI'"
sqldf(query)
```

## example four
### Introducing ORDER BY
#---------------

```{r}
query<-"SELECT playerID,teamID,yearID,HR FROM Batting
WHERE HR>50
ORDER BY HR DESC"
sqldf(query)
```

## example five
```{r}
query<-"SELECT playerID,teamID,yearID,HR,SO,AB FROM Batting
WHERE SO<10 and AB>=400
ORDER BY SO"
sqldf(query)
```

Let's make a query for September 12 class,

```{r}
query<-"SELECT playerID,HR FROM Batting
 WHERE playerID='ruthba01'"

sqldf(query)
```

